<div class="min-h-screen relative px-4 md:px-8 py-8">
  <!-- Background -->
  <div class="fixed inset-0">
    <img
      src="../../../../../assets/img/1.jpg"
      alt="Background"
      class="w-full h-full object-cover"
    />
    <div class="absolute inset-0 bg-black/60"></div>
  </div>

  <div
  *ngIf="isLoading"
  class="flex items-center justify-center fixed inset-0 z-50 bg-black bg-opacity-40"
>
  <svg class="pl" width="240" height="240" viewBox="0 0 240 240">
    <circle
      class="pl__ring pl__ring--a"
      cx="120"
      cy="120"
      r="105"
      fill="none"
      stroke="#000"
      stroke-width="20"
      stroke-dasharray="0 660"
      stroke-dashoffset="-330"
      stroke-linecap="round"
    ></circle>
    <circle
      class="pl__ring pl__ring--b"
      cx="120"
      cy="120"
      r="35"
      fill="none"
      stroke="#000"
      stroke-width="20"
      stroke-dasharray="0 220"
      stroke-dashoffset="-110"
      stroke-linecap="round"
    ></circle>
    <circle
      class="pl__ring pl__ring--c"
      cx="85"
      cy="120"
      r="70"
      fill="none"
      stroke="#000"
      stroke-width="20"
      stroke-dasharray="0 440"
      stroke-linecap="round"
    ></circle>
    <circle
      class="pl__ring pl__ring--d"
      cx="155"
      cy="120"
      r="70"
      fill="none"
      stroke="#000"
      stroke-width="20"
      stroke-dasharray="0 440"
      stroke-linecap="round"
    ></circle>
  </svg>
</div>

  <!-- Content Wrapper -->
  <div class="relative z-10 max-w-6xl mx-auto w-full">
    <!-- Alerts -->
    <div
      *ngIf="successMessage"
      @messageAnimation
      class="flex w-full bg-emerald-500 rounded-lg shadow-md mb-4"
    >
      <div class="flex items-center justify-center w-12 bg-emerald-600">
        <svg
          class="w-6 h-6 text-white fill-current"
          viewBox="0 0 40 40"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"
          />
        </svg>
      </div>
      <div class="px-4 py-2">
        <span class="font-semibold text-white">Success</span>
        <p class="text-sm text-gray-100">{{ successMessage }}</p>
      </div>
    </div>

    <div
      *ngIf="errorMessage"
      @messageAnimation
      class="flex w-full bg-red-500 rounded-lg shadow-md mb-4"
    >
      <div class="flex items-center justify-center w-12 bg-red-600">
        <svg
          class="w-6 h-6 text-white fill-current"
          viewBox="0 0 40 40"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM20 29.1667V29.1667C18.8833 29.1667 17.5 27.8333 17.5 26.6667C17.5 25.5 18.8833 24.1667 20 24.1667C21.1167 24.1667 22.5 25.5 22.5 26.6667C22.5 27.8333 21.1167 29.1667 20 29.1667ZM19.5833 15H20.4167V22.5H19.5833V15Z"
          />
        </svg>
      </div>
      <div class="px-4 py-2">
        <span class="font-semibold text-white">Error</span>
        <p class="text-sm text-gray-100">{{ errorMessage }}</p>
      </div>
    </div>

    <!-- Pending Bookings Section -->
    <section class="mb-8">
      <h2 class="text-2xl font-bold text-white mb-6">Pending Bookings</h2>

      <!-- Desktop & Tablet Table -->
      <div class="hidden md:block mb-8">
        <div class="bg-white/5 backdrop-blur-md rounded-lg overflow-hidden shadow-xl">
          <div class="overflow-x-auto">
            <table class="min-w-full">
              <thead>
                <tr class="bg-gray-900/75 text-white">
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Username</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Email</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">From</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">To</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Days</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Price</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Status</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Actions</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-700/30">
                <tr *ngFor="let booking of bookings" class="text-white hover:bg-white/10 transition-colors">
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.username }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.email }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.fromDate }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.toDate }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.days }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.price }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">
                    <span class="px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-600">
                      PENDING
                    </span>
                  </td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">
                    <div class="inline-flex ">
                      <button
                      (click)="changeBookingStatus(booking.id, 'Approve')"
                      class="bg-green-400 text-white hover:bg-gray-400 font-bold py-1 px-2 rounded-l"
                    >
                      Approve
                    </button>
                    <button
                      (click)="changeBookingStatus(booking.id, 'Reject')"
                      class="bg-red-400 hover:bg-gray-400 text-white font-bold py-1 px-4 rounded-r"
                    >
                      Reject
                    </button>
      
                     </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Mobile Cards for Pending -->
      <div class="md:hidden space-y-4">
        <div
          *ngFor="let booking of bookings"
          class="bg-white/10 backdrop-blur-md rounded-lg p-4 text-white"
        >
          <div class="flex justify-between items-center mb-4">
            <div>
              <h3 class="font-semibold">{{ booking.username }}</h3>
              <p class="text-sm text-gray-300">{{ booking.email }}</p>
            </div>
            <span class="px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-600">
              PENDING
            </span>
          </div>
          
          <div class="space-y-2 mb-4">
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">From:</span>
              <span>{{ booking.fromDate }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">To:</span>
              <span>{{ booking.toDate }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">Days:</span>
              <span>{{ booking.days }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">Price:</span>
              <span>${{ booking.price }}</span>
            </div>
          </div>

          <div class="flex gap-2 justify-end">
            <button
              (click)="changeBookingStatus(booking.id, 'Approve')"
              class="bg-green-500 hover:bg-green-600 text-white text-xs font-semibold py-2 px-4 rounded transition-colors"
            >
              Approve
            </button>
            <button
              (click)="changeBookingStatus(booking.id, 'Reject')"
              class="bg-red-500 hover:bg-red-600 text-white text-xs font-semibold py-2 px-4 rounded transition-colors"
            >
              Reject
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- History Section -->
    <section>
      <h2 class="text-2xl font-bold text-white mb-6">Booking History</h2>

      <!-- Desktop & Tablet Table -->
      <div class="hidden md:block mb-8">
        <div class="bg-white/5 backdrop-blur-md rounded-lg overflow-hidden shadow-xl">
          <div class="overflow-x-auto">
            <table class="min-w-full">
              <thead>
                <tr class="bg-gray-900/75 text-white">
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Username</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Email</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">From</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">To</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Days</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Price</th>
                  <th class="px-4 py-3 text-xs font-semibold uppercase text-left">Status</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-700/30">
                <tr *ngFor="let booking of filterBookings" class="text-white hover:bg-white/10 transition-colors">
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.username }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.email }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.fromDate }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.toDate }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.days }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">{{ booking.price }}</td>
                  <td class="px-4 py-3 text-sm whitespace-nowrap">
                    <span
                      class="px-3 py-1 text-xs font-medium rounded-full"
                      [ngClass]="{
                        'bg-red-100 text-red-600': booking.bookCarStatus === 'REJECTED',
                        'bg-green-100 text-green-600': booking.bookCarStatus === 'APPROVED'
                      }"
                    >
                      {{ booking.bookCarStatus }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Mobile Cards for History -->
      <div class="md:hidden space-y-4">
        <div
          *ngFor="let booking of filterBookings"
          class="bg-white/10 backdrop-blur-md rounded-lg p-4 text-white"
        >
          <div class="flex justify-between items-center mb-4">
            <div>
              <h3 class="font-semibold">{{ booking.username }}</h3>
              <p class="text-sm text-gray-300">{{ booking.email }}</p>
            </div>
            <span
              class="px-3 py-1 text-xs font-medium rounded-full"
              [ngClass]="{
                'bg-red-100 text-red-600': booking.bookCarStatus === 'REJECTED',
                'bg-green-100 text-green-600': booking.bookCarStatus === 'APPROVED'
              }"
            >
              {{ booking.bookCarStatus }}
            </span>
          </div>
          
          <div class="space-y-2">
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">From:</span>
              <span>{{ booking.fromDate }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">To:</span>
              <span>{{ booking.toDate }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">Days:</span>
              <span>{{ booking.days }}</span>
            </div>
            <div class="flex justify-between text-sm">
              <span class="text-gray-300">Price:</span>
              <span>${{ booking.price }}</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>