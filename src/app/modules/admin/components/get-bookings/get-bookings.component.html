<div
  class="card flex flex-col justify-center min-h-screen relative px-4 md:px-8"
>
  <div class="fixed inset-0">
    <img
      src="../../../../../assets/img/1.jpg"
      alt="Background"
      class="w-full h-full object-cover"
    />
    <div class="absolute inset-0 bg-black opacity-60"></div>
  </div>

  <!-- Table Wrapper with Responsive Breakpoints -->
  <div
    class="relative z-10 max-w-6xl mx-auto w-full lg:w-3/4 bg-opacity-70 backdrop-blur-md"
  >
    <div
      *ngIf="successMessage"
      @messageAnimation
      class="flex w-full bg-emerald-500 rounded-lg shadow-md mb-4"
    >
      <div class="flex items-center justify-center w-12 bg-emerald-600">
        <svg
          class="w-6 h-6 text-white fill-current"
          viewBox="0 0 40 40"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"
          />
        </svg>
      </div>
      <div class="px-4 py-2 -mx-3">
        <div class="mx-3">
          <span class="font-semibold text-white">Success</span>
          <p class="text-sm text-gray-100">{{ successMessage }}</p>
        </div>
      </div>
    </div>

    <!-- Error Message -->
    <div
      *ngIf="errorMessage"
      @messageAnimation
      class="flex w-full bg-red-500 rounded-lg shadow-md mb-4"
    >
      <div class="flex items-center justify-center w-12 bg-red-600">
        <svg
          class="w-6 h-6 text-white fill-current"
          viewBox="0 0 40 40"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM20 29.1667V29.1667C18.8833 29.1667 17.5 27.8333 17.5 26.6667C17.5 25.5 18.8833 24.1667 20 24.1667C21.1167 24.1667 22.5 25.5 22.5 26.6667C22.5 27.8333 21.1167 29.1667 20 29.1667ZM19.5833 15H20.4167V22.5H19.5833V15Z"
          />
        </svg>
      </div>
      <div class="px-4 py-2 -mx-3">
        <div class="mx-3">
          <span class="font-semibold text-white">Error</span>
          <p class="text-sm text-gray-100">{{ errorMessage }}</p>
        </div>
      </div>
    </div>
    <!-- Table Layout for Desktop -->
    <div class="hidden md:block overflow-hidden shadow-xl rounded-lg">
      <table class="min-w-full rounded-lg overflow-hidden">
        <!-- Table Header -->
        <thead class="bg-white">
          <tr
            class="bg-gray-900 bg-opacity-75 text-left text-white text-xs sm:text-sm uppercase font-semibold"
          >
            <th class="px-4 py-3 sm:px-6">Username</th>
            <th class="px-4 py-3 sm:px-6">Email</th>
            <th class="px-4 py-3 sm:px-6">From</th>
            <th class="px-4 py-3 sm:px-6">To</th>
            <th class="px-4 py-3 sm:px-6">Days</th>
            <th class="px-4 py-3 sm:px-6">Price</th>
            <th class="px-4 py-3 sm:px-6">Status</th>
            <th class="px-4 py-3 sm:px-6">Actions</th>
            <!-- Increase width here -->
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody
          class="card tbodyHover divide-y divide-gray-200 text-xs sm:text-sm"
        >
          <tr
            *ngFor="let booking of bookings"
            class="transition-colors duration-200"
          >
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.username }}
            </td>
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.email }}
            </td>
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.fromDate }}
            </td>
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.toDate }}
            </td>
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.days }}
            </td>
            <td class="px-4 py-3 sm:px-6 text-white whitespace-nowrap">
              {{ booking.price }}
            </td>
            <td class="px-4 py-3 sm:px-6 whitespace-nowrap">
              <span
                class="px-3 py-1 text-xs font-medium rounded-full"
                [ngClass]="{
                  'bg-yellow-100 text-yellow-600':
                    booking.bookCarStatus == 'PENDING',
                  'bg-red-100 text-red-600':
                    booking.bookCarStatus === 'REJECTED',
                  'bg-green-100 text-green-600':
                    booking.bookCarStatus === 'APPROVED'
                }"
              >
                {{ booking.bookCarStatus }}
              </span>
            </td>
            <td
              class="px-4 py-3 sm:px-6 whitespace-nowrap flex space-x-2 items-center justify-center text-white"
            >
              <!-- Example Actions -->
               <div class="inline-flex ">
                <button
                (click)="changeBookingStatus(booking.id, 'Approve')"
                class="bg-green-400 text-white hover:bg-gray-400 font-bold py-1 px-2 rounded-l"
              >
                Approve
              </button>
              <button
                (click)="changeBookingStatus(booking.id, 'Reject')"
                class="bg-red-400 hover:bg-gray-400 text-white font-bold py-1 px-4 rounded-r"
              >
                Reject
              </button>

               </div>
              
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Card Layout for Mobile -->
    <div class="mt-24">
      <div
        *ngFor="let booking of bookings"
        class="md:hidden bg-white bg-opacity-80 shadow-lg rounded-lg p-4 mb-4"
      >
        <div class="flex justify-between items-center mb-2">
          <h3 class="text-lg font-semibold text-gray-900">Booking Details</h3>
          <span
            class="px-3 py-1 text-xs font-medium rounded-full"
            [ngClass]="{
              'bg-yellow-100 text-yellow-600':
                    booking.bookCarStatus == 'PENDING',
                  'bg-red-100 text-red-600':
                    booking.bookCarStatus === 'REJECTED',
                  'bg-green-100 text-green-600':
                    booking.bookCarStatus === 'APPROVED'
            }"
          >
            {{ booking.bookCarStatus }}
          </span>
        </div>
        <div class="text-sm text-gray-700 mb-4">
          <p><strong>From:</strong> {{ booking.fromDate }}</p>
          <p><strong>To:</strong> {{ booking.toDate }}</p>
          <p><strong>Days:</strong> {{ booking.days }}</p>
          <p><strong>Price:</strong> ${{ booking.price }}</p>
        </div>
        <!-- Actions for Mobile View -->
        <div class="flex justify-end space-x-2">
          <button
            class="bg-green-400 hover:bg-green-500 text-white font-bold py-1 px-5 rounded text-xs"
          >
            Edit
          </button>
          <button
            class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-5 rounded text-xs"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
